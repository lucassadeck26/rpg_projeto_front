{"ast":null,"code":"var _jsxFileName = \"/home/lucas/rpg_project/frontend/rpg_projeto_front/src/components/contexts/ TechProvider.tsx\",\n    _s = $RefreshSig$();\n\nimport { createContext, useContext, useEffect, useState } from \"react\";\nimport api from \"../../services/api\";\nimport { UserContext } from \"./UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TechContext = /*#__PURE__*/createContext({});\n\nconst TechProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const {\n    setUser,\n    setLoading,\n    setIsModalAddVisible,\n    setIsModalDeleteVisible\n  } = useContext(UserContext);\n  const [idTech, setIdTech] = useState({});\n\n  const SetAddIDTECH = data => {\n    setIdTech(data);\n  };\n\n  async function loadUser() {\n    const token = localStorage.getItem(\"@TOKEN\");\n\n    if (token) {\n      try {\n        api.defaults.headers.common.authorization = `Bearer ${token}`;\n        const {\n          data\n        } = await api.get(\"/profile\");\n        console.log(data);\n        setUser(data);\n      } catch (error) {\n        console.error(error);\n      }\n\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    loadUser();\n  }, []);\n\n  const handleFormAddTech = data => {\n    api.post(\"/users/techs\", { ...data\n    }).then(res => {\n      console.log(res.data);\n      setIsModalAddVisible(false);\n      loadUser();\n      console.log(\"Tecnologia Adicionada\");\n    }).catch(err => {\n      console.error(err);\n    });\n  };\n\n  const handleFormDeleteTech = () => {\n    console.log(idTech);\n    api.delete(`/users/techs/${idTech.id}`).then(() => {\n      setIsModalDeleteVisible(false);\n      loadUser();\n      console.log(\"Tecnologia deletada\");\n    }).catch(err => {\n      console.error(err);\n    });\n  };\n\n  const handleFormUpdateTech = data => {\n    api.put(`/users/techs/${idTech.id}`, { ...data\n    }).then(res => {\n      console.log(res.data);\n      setIsModalDeleteVisible(false);\n      loadUser();\n      console.log(\"Tecnologia atualizada\");\n    }).catch(err => {\n      console.error(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(TechContext.Provider, {\n    value: {\n      handleFormAddTech,\n      handleFormDeleteTech,\n      SetAddIDTECH,\n      idTech,\n      handleFormUpdateTech\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TechProvider, \"Qepx7LVS40wgZR44RRRhIfRX0Mg=\");\n\n_c = TechProvider;\nexport default TechProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"TechProvider\");","map":{"version":3,"names":["createContext","useContext","useEffect","useState","api","UserContext","TechContext","TechProvider","children","setUser","setLoading","setIsModalAddVisible","setIsModalDeleteVisible","idTech","setIdTech","SetAddIDTECH","data","loadUser","token","localStorage","getItem","defaults","headers","common","authorization","get","console","log","error","handleFormAddTech","post","then","res","catch","err","handleFormDeleteTech","delete","id","handleFormUpdateTech","put"],"sources":["/home/lucas/rpg_project/frontend/rpg_projeto_front/src/components/contexts/ TechProvider.tsx"],"sourcesContent":["import {\n  createContext,\n  ReactNode,\n  useContext,\n  useEffect,\n  useState,\n} from \"react\";\nimport api from \"../../services/api\";\nimport { UserContext } from \"./UserContext\";\n\ninterface IIDTECH {\n  id: string;\n  status: string;\n  title: string;\n  created_at: Date;\n  updated_at: Date;\n}\n\ninterface IDelete {\n  id: string;\n  status: string;\n  title: string;\n  created_at: Date;\n  updated_at: Date;\n}\n\nexport interface IAddTech {\n  status: string;\n  title: string;\n}\n\nexport interface IUpdateTech {\n  title: string;\n  status: string;\n}\n\ninterface ITechContext {\n  handleFormAddTech: (data: IAddTech) => void;\n  handleFormDeleteTech: () => void;\n  idTech: IIDTECH;\n  handleFormUpdateTech: (Data: IUpdateTech) => void;\n  SetAddIDTECH: (data: IIDTECH) => void;\n}\n\ninterface IProfile {\n  avatar_url: string;\n  bio: string;\n  contact: string;\n  course_module: string;\n  created_at: Date;\n  email: string;\n  id: string;\n  name: string;\n  techs: IIDTECH[];\n  updated_at: Date;\n}\n\ninterface IUpdate {\n  id: string;\n  status: string;\n  title: string;\n  created_at: Date;\n  updated_at: Date;\n}\n\ninterface IUSERID {\n  id: string;\n}\ninterface IADD {\n  created_at: Date;\n  id: string;\n  status: string;\n  title: string;\n  updated_at: Date;\n  user: IUSERID;\n}\n\ninterface ITechProviderProps {\n  children: ReactNode;\n}\n\nexport const TechContext = createContext<ITechContext>({} as ITechContext);\n\nconst TechProvider = ({ children }: ITechProviderProps) => {\n  const { setUser, setLoading, setIsModalAddVisible, setIsModalDeleteVisible } =\n    useContext(UserContext);\n  const [idTech, setIdTech] = useState<IIDTECH>({} as IIDTECH);\n\n  const SetAddIDTECH = (data: IIDTECH) => {\n    setIdTech(data);\n  };\n\n  async function loadUser() {\n    const token = localStorage.getItem(\"@TOKEN\");\n\n    if (token) {\n      try {\n        api.defaults.headers.common.authorization = `Bearer ${token}`;\n        const { data } = await api.get<IProfile>(\"/profile\");\n        console.log(data);\n\n        setUser(data);\n      } catch (error) {\n        console.error(error);\n      }\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    loadUser();\n  }, []);\n\n  const handleFormAddTech = (data: IAddTech) => {\n    api\n      .post<IADD>(\"/users/techs\", { ...data })\n      .then((res) => {\n        console.log(res.data);\n\n        setIsModalAddVisible(false);\n        loadUser();\n        console.log(\"Tecnologia Adicionada\");\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  };\n\n  const handleFormDeleteTech = () => {\n    console.log(idTech);\n\n    api\n      .delete<IDelete>(`/users/techs/${idTech.id}`)\n      .then(() => {\n        setIsModalDeleteVisible(false);\n        loadUser();\n        console.log(\"Tecnologia deletada\");\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  };\n\n  const handleFormUpdateTech = (data: IUpdateTech) => {\n    api\n      .put<IUpdate>(`/users/techs/${idTech.id}`, { ...data })\n      .then((res) => {\n        console.log(res.data);\n\n        setIsModalDeleteVisible(false);\n        loadUser();\n        console.log(\"Tecnologia atualizada\");\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  };\n\n  return (\n    <TechContext.Provider\n      value={{\n        handleFormAddTech,\n        handleFormDeleteTech,\n        SetAddIDTECH,\n        idTech,\n        handleFormUpdateTech,\n      }}\n    >\n      {children}\n    </TechContext.Provider>\n  );\n};\n\nexport default TechProvider;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}